import{T as V,q as B,az as C,av as L,j as N,a2 as H,aq as M,A as O,aA as m,ao as P,aB as W,at as Y,aC as b,ab as w,a6 as R,a7 as j,ac as v,ap as $,aD as z,aE as F,al as G,a8 as J,aF as K,a3 as Q,af as U,p as X,h as T,a as Z,I as x}from"./runtime.DFuotMX-.js";import{w as rr}from"./shared.bwbMXRKO.js";import{d as ar}from"./disclose-version.CdZuIc7i.js";const tr=["touchstart","touchmove"];function er(r){return tr.includes(r)}const nr=new Set,D=new Set;function sr(r,a,e,o){function s(t){if(o.capture||y.call(a,t),!t.cancelBubble)return rr(()=>e.call(this,t))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?B(()=>{a.addEventListener(r,s,o)}):a.addEventListener(r,s,o),s}function cr(r,a,e,o,s){var t={capture:o,passive:s},u=sr(r,a,e,t);(a===document.body||a===window||a===document)&&V(()=>{a.removeEventListener(r,u,t)})}function y(r){var A;var a=this,e=a.ownerDocument,o=r.type,s=((A=r.composedPath)==null?void 0:A.call(r))||[],t=s[0]||r.target,u=0,_=r.__root;if(_){var d=s.indexOf(_);if(d!==-1&&(a===document||a===window)){r.__root=a;return}var h=s.indexOf(a);if(h===-1)return;d<=h&&(u=d)}if(t=s[u]||r.target,t!==a){C(r,"currentTarget",{configurable:!0,get(){return t||e}});var E=M,f=O;L(null),N(null);try{for(var n,i=[];t!==null;){var c=t.assignedSlot||t.parentNode||t.host||null;try{var l=t["__"+o];if(l!==void 0&&!t.disabled)if(H(l)){var[k,...q]=l;k.apply(t,[r,...q])}else l.call(t,r)}catch(g){n?i.push(g):n=g}if(r.cancelBubble||c===a||c===null)break;t=c}if(n){for(let g of i)queueMicrotask(()=>{throw g});throw n}}finally{r.__root=a,delete r.currentTarget,L(E),N(f)}}}function dr(r,a){var e=a==null?"":typeof a=="object"?a+"":a;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function ir(r,a){return I(r,a)}function lr(r,a){m(),a.intro=a.intro??!1;const e=a.target,o=T,s=v;try{for(var t=P(e);t&&(t.nodeType!==8||t.data!==W);)t=Y(t);if(!t)throw b;w(!0),R(t),j();const u=I(r,{...a,anchor:t});if(v===null||v.nodeType!==8||v.data!==$)throw z(),b;return w(!1),u}catch(u){if(u===b)return a.recover===!1&&F(),m(),G(e),w(!1),ir(r,a);throw u}finally{w(o),R(s)}}const p=new Map;function I(r,{target:a,anchor:e,props:o={},events:s,context:t,intro:u=!0}){m();var _=new Set,d=f=>{for(var n=0;n<f.length;n++){var i=f[n];if(!_.has(i)){_.add(i);var c=er(i);a.addEventListener(i,y,{passive:c});var l=p.get(i);l===void 0?(document.addEventListener(i,y,{passive:c}),p.set(i,1)):p.set(i,l+1)}}};d(J(nr)),D.add(d);var h=void 0,E=K(()=>{var f=e??a.appendChild(Q());return U(()=>{if(t){X({});var n=x;n.c=t}s&&(o.$$events=s),T&&ar(f,null),h=r(f,o)||{},T&&(O.nodes_end=v),t&&Z()}),()=>{var c;for(var n of _){a.removeEventListener(n,y);var i=p.get(n);--i===0?(document.removeEventListener(n,y),p.delete(n)):p.set(n,i)}D.delete(d),f!==e&&((c=f.parentNode)==null||c.removeChild(f))}});return S.set(h,E),h}let S=new WeakMap;function _r(r,a){const e=S.get(r);return e?(S.delete(r),e(a)):Promise.resolve()}export{cr as e,lr as h,ir as m,dr as s,_r as u};
